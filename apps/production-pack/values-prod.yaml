frontend:
  enabled: true
  image:
    repository: ghcr.io/dominikmatras-tech/frontend
    tag: "b303ca3" 
  replicaCount: 1
  service:
    port: 80
  ingress:
    enabled: true
    host: production-pack.dm-tech.pl
    tlsSecretName: production-pack-frontend-tls

gateway:
  enabled: true
  host: api.production-pack.dm-tech.pl
  image:
    repository: ghcr.io/dominikmatras-tech/api-gateway
    tag: 'b303ca3'
  containerPort: 8080

services:
  user-service:
    enabled: true
    image:
      repository: ghcr.io/dominikmatras-tech/user-service
      tag: 'b303ca3'
    containerPort: 8081
    dbSecretKey: DATABASE_URL_USER
    env:
      PORT: '8081'
      NODE_ENV: 'production'
    prismaMigrate: false

  order-service:
    enabled: true
    image:
      repository: ghcr.io/dominikmatras-tech/order-service
      tag: 'b303ca3'
    containerPort: 8082
    dbSecretKey: DATABASE_URL_ORDER
    env:
      PORT: '8082'
      NODE_ENV: 'production'
    prismaMigrate: true

  production-service:
    enabled: true
    image:
      repository: ghcr.io/dominikmatras-tech/production-service
      tag: 'b303ca3'
    containerPort: 8083
    dbSecretKey: DATABASE_URL_ORDER
    env:
      PORT: '8083'
      NODE_ENV: 'production'
      API_GATEWAY_BASE_URL: 'http://production-pack-gateway'
    prismaMigrate: true

  report-service:
    enabled: true
    image:
      repository: ghcr.io/dominikmatras-tech/report-service
      tag: 'b303ca3'
    containerPort: 8084
    dbSecretKey: DATABASE_URL_REPORT
    env:
      PORT: '8084'
      NODE_ENV: 'production'
      API_GATEWAY_BASE_URL: 'http://production-pack-gateway'
    prismaMigrate: true

secrets:
  jwtSecret: 'productionpack'
  databaseUrlUser: 'postgresql://postgres:postgres@postgres.production-pack.svc.cluster.local:5432/userdb'
  databaseUrlOrder: 'postgresql://postgres:postgres@postgres.production-pack.svc.cluster.local:5432/orderdb'
  databaseUrlReport: 'postgresql://postgres:postgres@postgres.production-pack.svc.cluster.local:5432/reportdb'

frontend:
  enabled: false
